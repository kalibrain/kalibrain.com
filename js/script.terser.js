const COLOUR_SCHEMES=[["rgb( 76,187,185)","rgb(255,190,105)","rgb(152,214,234)","rgb(255, 99, 99)","rgb(133,102,170)"],["rgb(240, 92,136)","rgb(111,125,246)","rgb(119,203,249)","rgb(255,168,  5)","rgb( 66,199,153)"],["rgb(239,194,184)","rgb(149,187,217)","rgb(188,220,150)","rgb(238,222,151)","rgb(214,217,253)"],["rgb(254,138,138)","rgb(127,102,152)","rgb(250,210,109)","rgb(127,182,161)","rgb(139,197,217)"],["rgb(145, 48, 48)","rgb( 39, 90,119)","rgb( 36,107, 80)","rgb(194,129, 71)","rgb(112, 72,111)"]];function changeColours(e){var t="New Colours: ";e.forEach(((e,r)=>{e=`rgb(${+`0x${e[1]}${e[2]}`},${+`0x${e[3]}${e[4]}`},${+`0x${e[5]}${e[6]}`})`;document.documentElement.style.setProperty(`--c-${r}`,e);t+=e+", "}));currentScheme=-1;return t}function rgbArray(e){e=e.substr(4).split(")")[0].split(",");return[parseInt(e[0]),parseInt(e[1]),parseInt(e[2])]}var schemeAnimation;function transitionColourScheme(e,t=true){var r=t?shuffleArray(COLOUR_SCHEMES[e]):COLOUR_SCHEMES[e];var n=document.documentElement.style;var a=r.map((e=>rgbArray(e))),o=r.map(((e,t)=>rgbArray(n.getPropertyValue(`--c-${t}`))));var i=e=>{var t=false;o.forEach(((e,r)=>{e.forEach(((t,n)=>e[n]=t+Math.ceil(Math.abs(t-a[r][n])/50)*(t<=a[r][n]?1:-1)));n.setProperty(`--c-${r}`,`rgb(${e[0]},${e[1]},${e[2]})`);if(!t&&(e[0]!==a[r][0]||e[1]!==a[r][1]||e[2]!==a[r][2]))t=true}));if(t)return schemeAnimation=requestAnimationFrame(i);setDarkClassForSections(r);ripple();resetBucket()};schemeAnimation=requestAnimationFrame(i)}function changeColourScheme(e,t=true){if(e<0||e>=COLOUR_SCHEMES.length)return"Please enter a valid index";var r=t?shuffleArray(COLOUR_SCHEMES[e]):COLOUR_SCHEMES[e];var n=document.documentElement;r.forEach(((e,t)=>n.style.setProperty(`--c-${t}`,e)));setDarkClassForSections(r);startWave(1);resetBucket()}function setDarkClassForSections(e){document.querySelectorAll(".section").forEach(((t,r)=>t.classList.toggle("is-dark",isDark(e[r]))))}function nextColourSchemeID(){return(currentScheme+1)%COLOUR_SCHEMES.length}function isDark(e){var t=rgbArray(e);return(t[0]*299+t[1]*587+t[2]*114)/1e3<142}function bucket(e){var t=document.querySelector(".bucket");if(t.classList.contains("changing"))return;var r=nextColourSchemeID();document.body.setAttribute("data-bucket",r);t.classList.add("changing");if(active_section!==null){transitionColourScheme(r)}else{var n=navbar.querySelector(".section-title.wave");killWave();setTimeout((e=>changeColourScheme(r)),n?450:0)}currentScheme=r;trackEvent(`Current Scheme: ${currentScheme}`,"Changed Colours")}document.querySelector(".bucket img").addEventListener("click",bucket);function resetBucket(){setTimeout((e=>{document.querySelector(".bucket").classList.remove("changing");changeBucketColours(nextColourSchemeID())}),1200)}function changeBucketColours(e){var t=document.querySelector(".bucket");COLOUR_SCHEMES[e].forEach(((e,r)=>t.style.setProperty(`--nc-${r}`,e)))}var currentScheme=0;changeColourScheme(currentScheme);changeBucketColours(nextColourSchemeID());var navbar,navbarSections,names,active_section=null,active_work="";function darkMode(e){document.documentElement.classList.toggle("dark-mode",e)}if(window.matchMedia)window.matchMedia("(prefers-color-scheme: dark)").addListener((e=>darkMode(e.matches)));function redirectToSection(e){e=e.replace(/^[\/?]/,"");if(e.length===0)return;const t=e.split("/");const r=t[0];const n=t[1]||"";const a=Array.from(document.querySelectorAll(".section-nav span[data-section-name]")).map((e=>e.getAttribute("data-section-name")));if(!a.includes(r))return;document.querySelector(`#id-${r} .text`).addEventListener("animationend",(e=>{if(r==="work"&&Array.from(document.querySelectorAll("#id-work .card")).map((e=>e.getAttribute("id"))).includes(n)){workPicker(n)}document.body.classList.remove("no-touching")}),{once:true});document.body.classList.add("no-touching");setTimeout((e=>trackEvent(`Navigating directly to section: /${r}/${n}`,"Deep Linked")),900);setTimeout((e=>navControl(r)),1e3)}window.addEventListener("popstate",(e=>{navbarSections.forEach((e=>e.classList.remove("active")));hideAllSections();trackEvent("-","Back button clicked")}));var wave,swell,tide,crests=[],troughs=[];function ripple(e=0){clearTimeout(swell);swell=setTimeout((function(){if(navbarSections&&navbarSections.length)navbarSections.forEach(((e,t,r)=>{crests[t]=setTimeout(rippleUp,150*t,e,names[t]);troughs[t]=setTimeout(rippleDown,r.length*150+200*t,e,names[t])}))}),e)}function rippleUp(e,t){e.classList.add("wave");if(t)t.classList.add("wave")}function rippleDown(e,t){e.classList.remove("wave");if(t)t.classList.remove("wave")}function startWave(e=0){if(e>0)ripple(e);clearInterval(wave);clearTimeout(tide);tide=setTimeout((e=>wave=setInterval(ripple,4e3)),e)}function killWave(e){clearTimeout(tide);clearTimeout(swell);clearInterval(wave);navbarSections.forEach(((t,r)=>{clearTimeout(crests[r]);if(r===e){clearTimeout(troughs[r])}else{rippleDown(t,names[r])}}))}function highTide(){killWave();navbarSections.forEach(((e,t,r)=>setTimeout(rippleUp,150*t,e,names[t])))}function navControl(e){if(!typeof e==="string"||e.length===0)return;var t=navbar.querySelector(`span[data-section-name="${e}"]`);if(!t||!t.parentElement)return;var r=t.parentElement;var n=`id-${e}`;killWave();navbar.classList.remove("active");navbarSections.forEach((e=>e.classList.remove("active")));if(n===active_section){hideAllSections();trackEvent("-","Sections Closed")}else{showSection(n);navbar.setAttribute("data-bg-color",r.getAttribute("data-bg-color"));navbar.setAttribute("data-open","true");navbar.classList.add("active");r.classList.add("active");document.getElementById("section-container").classList.add("active");document.title=`${e} | kali yilmaz`;history.pushState(null,null,`/${e}`);trackEvent(e,"Section Changed")}}function showSection(e){switch(e){case"id-work":document.querySelectorAll(".card .logo img, .badges img").forEach((e=>e.src=e.getAttribute("data-src")));if(active_work==="")break;document.querySelector(".work.active").classList.remove("active");document.getElementById(active_work).classList.add("hidden");active_work="";break;case"id-about":document.getElementById("me-jpg").src="assets/me.jpg";break}if(active_section===null){toggleHero();setTimeout((t=>document.getElementById(e).classList.remove("hidden")),1e3)}else{window.scroll({top:0,left:0,behavior:"smooth"});animateOut(`#${active_section}`,"fade-out-bottom",(t=>document.getElementById(e).classList.remove("hidden")))}active_section=e}function toggleHero(){var e=document.getElementById("hero");e.style.height=e.style.height===`0px`?`calc(var(--vh, 1vh) * 60)`:`0px`}function loadFile(e,t,r,n=e=>{}){if(!e||e.length===0||!["css","js"].includes(t)||!r||r.length===0||document.querySelector(`.${t}-${e}`))return;var a=Object.assign(document.createElement(t==="js"?"script":"link"),{...t==="js"?{src:r}:{},...t==="css"?{rel:"stylesheet",href:r}:{},className:`${t}-${e}`,onload:n});document[t==="js"?"body":"head"].appendChild(a)}function hideAllSections(){navbar.setAttribute("data-open","false");navbar.classList.remove("active");document.getElementById("section-container").classList.remove("active");toggleHero();killWave();startWave(1500);document.title=`kali yilmaz`;history.pushState(null,null,"/");animateOut("#"+active_section,"fade-out-bottom");active_section=null}function workPicker(e){if(typeof e!=="string"||e.length===0)return;var t=document.querySelector(`.work[data-work-name="${e}"]`);if(!t)return;if(active_work===e)return;var r=document.getElementById(e);if(active_work===""){r.classList.remove("hidden")}else{document.querySelector(".work.active").classList.remove("active");animateOut(`#${active_work}`,"fade-out-right",(e=>r.classList.remove("hidden")))}t.classList.add("active");active_work=e;document.querySelectorAll(".arrow span").forEach((e=>{e.classList.add("fade-down-twice");e.addEventListener("animationend",(t=>e.classList.remove("fade-down-twice")),{once:true})}));document.title=`${t.querySelector(".work-name").innerText.toLowerCase()} | work | kali yilmaz`;history.pushState("","",`/work/${e}`);trackEvent(e,"Work Clicked")}function trackEvent(e,t){return;try{if(umami)umami.trackEvent(e,t)}catch{console.log("Unable to track Event",e,t)}}function animateOut(e,t,r,n=500){var a=document.querySelector(e);a.classList.add(t);setTimeout((e=>{a.classList.add("hidden");a.classList.remove(t);if(r)r()}),n,a,t,r)}function animateIn(e,t,r,n=500){var a=document.querySelector(e);a.classList.remove("hidden");a.classList.add(t);setTimeout((e=>a.classList.remove(t)),n,a);if(r)r()}function shuffleArray(e){return e.map((e=>[Math.random(),e])).sort(((e,t)=>e[0]-t[0])).map((e=>e[1]))}function mobileViewportHack(){document.documentElement.style.setProperty("--vh",`${window.innerHeight*.01}px`)}mobileViewportHack();var debounced,window_height=window.innerHeight;window.addEventListener("resize",(e=>{clearTimeout(debounced);debounced=setTimeout((e=>{if(map&&map.resize)map.resize();if(window.innerHeight===window_height)return;window_height=window.innerHeight;mobileViewportHack()}),100)}));window.addEventListener("orientationchange",mobileViewportHack);document.querySelectorAll("a").forEach((e=>{e.addEventListener("click",(t=>{trackEvent(`Opening ${e.getAttribute("data-name")?e.getAttribute("data-name"):e.hostname}`,"URL clicked")}))}));document.addEventListener("DOMContentLoaded",(e=>{redirectToSection(window.location.search);navbar=document.getElementById("navigation");navbarSections=navbar.querySelectorAll(".section-title");names=document.querySelectorAll("#hero span span");navbarSections.forEach(((e,t)=>{e.addEventListener("mouseover",(e=>{killWave(t);if(active_section===null)names[t].classList.add("wave")}));e.addEventListener("mousemove",(e=>{if(active_section===null)names[t].classList.add("wave")}));e.addEventListener("mouseout",(e=>{killWave();if(active_section===null)startWave(1500)}))}));startWave(1e3)}),{once:true});